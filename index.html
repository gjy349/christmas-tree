<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>Cyber Christmas Tree</title>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background: radial-gradient(circle at center, #050510, #010103);
      width: 100%;
      height: 100%;
    }

    canvas {
      display: block;
    }

    /* è½»å¾®æç¤ºæ–‡å­— */
    .hint {
      position: fixed;
      bottom: 20px;
      width: 100%;
      text-align: center;
      color: rgba(255,255,255,0.6);
      font-size: 12px;
      letter-spacing: 1px;
      font-family: Arial, sans-serif;
      pointer-events: none;
    }
  </style>
</head>

<body>

<!-- ğŸµ èƒŒæ™¯éŸ³ä¹ -->
<audio id="bgm" src="bgm.mp3" loop></audio>

<canvas id="canvas"></canvas>
<div class="hint">Tap anywhere to awaken the magic âœ¨</div>

<script>
  const canvas = document.getElementById("canvas");
  const ctx = canvas.getContext("2d");

  function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  window.addEventListener("resize", resize);
  resize();

  const particles = [];
  const centerX = () => canvas.width / 2;
  const centerY = () => canvas.height / 2;

  class Particle {
    constructor(angle, radius) {
      this.angle = angle;
      this.radius = radius;
      this.speed = 0.002 + Math.random() * 0.002;
      this.size = 1 + Math.random() * 2;
    }

    update() {
      this.angle += this.speed;
    }

    draw() {
      const x = centerX() + Math.cos(this.angle) * this.radius;
      const y = centerY() + Math.sin(this.angle) * this.radius;

      ctx.beginPath();
      ctx.arc(x, y, this.size, 0, Math.PI * 2);
      ctx.fillStyle = "rgba(180,220,255,0.8)";
      ctx.fill();
    }
  }

  for (let i = 0; i < 400; i++) {
    particles.push(new Particle(
      Math.random() * Math.PI * 2,
      Math.random() * Math.min(canvas.width, canvas.height) * 0.4
    ));
  }

  function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    particles.forEach(p => {
      p.update();
      p.draw();
    });
    requestAnimationFrame(animate);
  }
  animate();

  /* ğŸ§ è§£å†³æµè§ˆå™¨è‡ªåŠ¨æ’­æ”¾é™åˆ¶ */
  const bgm = document.getElementById("bgm");
  let started = false;

  function startAudio() {
    if (!started) {
      bgm.volume = 0.6;
      bgm.play();
      started = true;
      document.querySelector(".hint").innerText = "Merry Christmas ğŸ„";
    }
  }

  document.addEventListener("click", startAudio);
  document.addEventListener("touchstart", startAudio);
</script>

</body>
</html>
